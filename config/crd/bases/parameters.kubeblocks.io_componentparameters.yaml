apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.14.0
  labels:
    app.kubernetes.io/name: kubeblocks
  name: componentparameters.parameters.kubeblocks.io
spec:
  group: parameters.kubeblocks.io
  names:
    categories:
    - kubeblocks
    kind: ComponentParameter
    listKind: ComponentParameterList
    plural: componentparameters
    singular: componentparameter
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: cluster name
      jsonPath: .spec.clusterName
      name: CLUSTER
      type: string
    - description: component name
      jsonPath: .spec.componentName
      name: COMPONENT
      type: string
    - description: config status phase.
      jsonPath: .status.phase
      name: STATUS
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: AGE
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: ComponentParameter is the Schema for the componentparameters
          API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: ComponentParameterSpec defines the desired state of ComponentConfiguration
            properties:
              clusterName:
                description: Specifies the name of the Cluster that this configuration
                  is associated with.
                type: string
                x-kubernetes-validations:
                - message: forbidden to update spec.clusterRef
                  rule: self == oldSelf
              componentName:
                description: Represents the name of the Component that this configuration
                  pertains to.
                type: string
                x-kubernetes-validations:
                - message: forbidden to update spec.clusterRef
                  rule: self == oldSelf
              configItemDetails:
                description: |-
                  ConfigItemDetails is an array of ConfigTemplateItemDetail objects.


                  Each ConfigTemplateItemDetail corresponds to a configuration template,
                  which is a ConfigMap that contains multiple configuration files.
                  Each configuration file is stored as a key-value pair within the ConfigMap.


                  The ConfigTemplateItemDetail includes information such as:


                  - The configuration template (a ConfigMap)
                  - The corresponding ConfigConstraint (constraints and validation rules for the configuration)
                  - Volume mounts (for mounting the configuration files)
                items:
                  description: ConfigTemplateItemDetail corresponds to settings of
                    a configuration template (a ConfigMap).
                  properties:
                    configFileParams:
                      additionalProperties:
                        properties:
                          content:
                            description: |-
                              Holds the configuration keys and values. This field is a workaround for issues found in kubebuilder and code-generator.
                              Refer to https://github.com/kubernetes-sigs/kubebuilder/issues/528 and https://github.com/kubernetes/code-generator/issues/50 for more details.


                              Represents the content of the configuration file.
                            type: string
                          parameters:
                            additionalProperties:
                              type: string
                            description: Represents the updated parameters for a single
                              configuration file.
                            type: object
                        type: object
                      description: |-
                        Specifies the user-defined configuration parameters.


                        When provided, the parameter values in `configFileParams` override the default configuration parameters.
                        This allows users to override the default configuration according to their specific needs.
                      type: object
                    configSpec:
                      description: |-
                        Specifies the name of the configuration template (a ConfigMap), ConfigConstraint, and other miscellaneous options.


                        The configuration template is a ConfigMap that contains multiple configuration files.
                        Each configuration file is stored as a key-value pair within the ConfigMap.


                        ConfigConstraint allows defining constraints and validation rules for configuration parameters.
                        It ensures that the configuration adheres to certain requirements and limitations.
                      properties:
                        defaultMode:
                          description: |-
                            The operator attempts to set default file permissions (0444).


                            Must be specified as an octal value between 0000 and 0777 (inclusive),
                            or as a decimal value between 0 and 511 (inclusive).
                            YAML supports both octal and decimal values for file permissions.


                            Please note that this setting only affects the permissions of the files themselves.
                            Directories within the specified path are not impacted by this setting.
                            It's important to be aware that this setting might conflict with other options
                            that influence the file mode, such as fsGroup.
                            In such cases, the resulting file mode may have additional bits set.
                            Refers to documents of k8s.ConfigMapVolumeSource.defaultMode for more information.
                          format: int32
                          type: integer
                        externalManaged:
                          description: |-
                            ExternalManaged indicates whether the configuration is managed by an external system.
                            When set to true, the controller will ignore the management of this configuration.
                          type: boolean
                        name:
                          description: Specifies the name of the template.
                          maxLength: 63
                          pattern: ^[a-z0-9]([a-z0-9\.\-]*[a-z0-9])?$
                          type: string
                        namespace:
                          default: default
                          description: Specifies the namespace of the referenced template
                            ConfigMap object.
                          maxLength: 63
                          pattern: ^[a-z0-9]([a-z0-9\-]*[a-z0-9])?$
                          type: string
                        reconfigure:
                          description: |-
                            Defines the procedure that reloads the configuration when the file changes.


                            When @restartOnFileChange is set to true, this action will be ignored.


                            Note: This field is immutable once it has been set.
                          properties:
                            exec:
                              description: |-
                                Defines the command to run.


                                This field cannot be updated.
                              properties:
                                args:
                                  description: Args represents the arguments that
                                    are passed to the `command` for execution.
                                  items:
                                    type: string
                                  type: array
                                command:
                                  description: |-
                                    Specifies the command to be executed inside the container.
                                    The working directory for this command is the container's root directory('/').
                                    Commands are executed directly without a shell environment, meaning shell-specific syntax ('|', etc.) is not supported.
                                    If the shell is required, it must be explicitly invoked in the command.


                                    A successful execution is indicated by an exit status of 0; any non-zero status signifies a failure.
                                  items:
                                    type: string
                                  type: array
                                container:
                                  description: |-
                                    Specifies the name of the container within the same pod whose resources will be shared with the action.
                                    This allows the action to utilize the specified container's resources without executing within it.


                                    The name must match one of the containers defined in `componentDefinition.spec.runtime`.


                                    The resources that can be shared are included:


                                    - volume mounts


                                    This field cannot be updated.
                                  type: string
                                env:
                                  description: |-
                                    Represents a list of environment variables that will be injected into the container.
                                    These variables enable the container to adapt its behavior based on the environment it's running in.


                                    This field cannot be updated.
                                  items:
                                    description: EnvVar represents an environment
                                      variable present in a Container.
                                    properties:
                                      name:
                                        description: Name of the environment variable.
                                          Must be a C_IDENTIFIER.
                                        type: string
                                      value:
                                        description: |-
                                          Variable references $(VAR_NAME) are expanded
                                          using the previously defined environment variables in the container and
                                          any service environment variables. If a variable cannot be resolved,
                                          the reference in the input string will be unchanged. Double $$ are reduced
                                          to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e.
                                          "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)".
                                          Escaped references will never be expanded, regardless of whether the variable
                                          exists or not.
                                          Defaults to "".
                                        type: string
                                      valueFrom:
                                        description: Source for the environment variable's
                                          value. Cannot be used if value is not empty.
                                        properties:
                                          configMapKeyRef:
                                            description: Selects a key of a ConfigMap.
                                            properties:
                                              key:
                                                description: The key to select.
                                                type: string
                                              name:
                                                description: |-
                                                  Name of the referent.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                  TODO: Add other useful fields. apiVersion, kind, uid?
                                                type: string
                                              optional:
                                                description: Specify whether the ConfigMap
                                                  or its key must be defined
                                                type: boolean
                                            required:
                                            - key
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          fieldRef:
                                            description: |-
                                              Selects a field of the pod: supports metadata.name, metadata.namespace, `metadata.labels['<KEY>']`, `metadata.annotations['<KEY>']`,
                                              spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP, status.podIPs.
                                            properties:
                                              apiVersion:
                                                description: Version of the schema
                                                  the FieldPath is written in terms
                                                  of, defaults to "v1".
                                                type: string
                                              fieldPath:
                                                description: Path of the field to
                                                  select in the specified API version.
                                                type: string
                                            required:
                                            - fieldPath
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          resourceFieldRef:
                                            description: |-
                                              Selects a resource of the container: only resources limits and requests
                                              (limits.cpu, limits.memory, limits.ephemeral-storage, requests.cpu, requests.memory and requests.ephemeral-storage) are currently supported.
                                            properties:
                                              containerName:
                                                description: 'Container name: required
                                                  for volumes, optional for env vars'
                                                type: string
                                              divisor:
                                                anyOf:
                                                - type: integer
                                                - type: string
                                                description: Specifies the output
                                                  format of the exposed resources,
                                                  defaults to "1"
                                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                x-kubernetes-int-or-string: true
                                              resource:
                                                description: 'Required: resource to
                                                  select'
                                                type: string
                                            required:
                                            - resource
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          secretKeyRef:
                                            description: Selects a key of a secret
                                              in the pod's namespace
                                            properties:
                                              key:
                                                description: The key of the secret
                                                  to select from.  Must be a valid
                                                  secret key.
                                                type: string
                                              name:
                                                description: |-
                                                  Name of the referent.
                                                  More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                  TODO: Add other useful fields. apiVersion, kind, uid?
                                                type: string
                                              optional:
                                                description: Specify whether the Secret
                                                  or its key must be defined
                                                type: boolean
                                            required:
                                            - key
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        type: object
                                    required:
                                    - name
                                    type: object
                                  type: array
                                image:
                                  description: |-
                                    Specifies the container image to be used for running the Action.


                                    When specified, a dedicated container will be created using this image to execute the Action.
                                    All actions with same image will share the same container.


                                    This field cannot be updated.
                                  type: string
                                matchingKey:
                                  description: |-
                                    Used in conjunction with the `targetPodSelector` field to refine the selection of target pod(s) for Action execution.
                                    The impact of this field depends on the `targetPodSelector` value:


                                    - When `targetPodSelector` is set to `Any` or `All`, this field will be ignored.
                                    - When `targetPodSelector` is set to `Role`, only those replicas whose role matches the `matchingKey`
                                      will be selected for the Action.


                                    This field cannot be updated.
                                  type: string
                                targetPodSelector:
                                  description: |-
                                    Defines the criteria used to select the target Pod(s) for executing the Action.
                                    This is useful when there is no default target replica identified.
                                    It allows for precise control over which Pod(s) the Action should run in.


                                    If not specified, the Action will be executed in the pod where the Action is triggered, such as the pod
                                    to be removed or added; or a random pod if the Action is triggered at the component level, such as
                                    post-provision or pre-terminate of the component.


                                    This field cannot be updated.
                                  enum:
                                  - Any
                                  - All
                                  - Role
                                  - Ordinal
                                  type: string
                              type: object
                            grpc:
                              description: |-
                                Defines the gRPC call to issue.


                                This field cannot be updated.
                              properties:
                                host:
                                  description: |-
                                    The target host to connect to.
                                    Defaults to "127.0.0.1" if not specified.
                                  type: string
                                method:
                                  description: Name of the method to invoke on the
                                    gRPC service.
                                  type: string
                                port:
                                  description: |-
                                    The port to access on the host.
                                    It may be a numeric string (e.g., "50051") or a named port defined in the container spec.
                                  type: string
                                request:
                                  additionalProperties:
                                    type: string
                                  description: |-
                                    Request payload for the gRPC method.


                                    Keys are proto field names (lowerCamelCase); values are strings that can include Go templates.
                                    Templates are rendered with predefined action variables before the request is sent.
                                  type: object
                                response:
                                  description: Required response schema for the gRPC
                                    method.
                                  properties:
                                    message:
                                      description: |-
                                        Name of the field in the response whose value should be output.
                                        Printed to stdout on success, or stderr on failure.
                                      type: string
                                    status:
                                      description: |-
                                        Name of the string field in the response that carries status information.
                                        If non-empty, the action fails.
                                      type: string
                                  type: object
                                service:
                                  description: Fully-qualified name of the gRPC service
                                    to call.
                                  type: string
                              required:
                              - method
                              - port
                              - service
                              type: object
                            http:
                              description: |-
                                Defines the HTTP request to perform.


                                This field cannot be updated.
                              properties:
                                body:
                                  description: |-
                                    Optional HTTP request body.


                                    Supports Go text/template syntax; rendered with predefined variables before sending.
                                  type: string
                                headers:
                                  description: |-
                                    Custom headers to set in the request.
                                    Header values may use Go text/template syntax, rendered with predefined variables.
                                  items:
                                    description: HTTPHeader represents a single HTTP
                                      header key/value pair.
                                    properties:
                                      name:
                                        description: Name of the header field.
                                        type: string
                                      value:
                                        description: Value of the header field.
                                        type: string
                                    required:
                                    - name
                                    - value
                                    type: object
                                  type: array
                                host:
                                  description: |-
                                    The target host to connect to.
                                    Defaults to "127.0.0.1" if not specified.
                                  type: string
                                method:
                                  default: GET
                                  description: |-
                                    The HTTP method to use.
                                    Defaults to "GET".
                                  enum:
                                  - GET
                                  - POST
                                  - PUT
                                  - DELETE
                                  - HEAD
                                  - PATCH
                                  type: string
                                path:
                                  default: /
                                  description: |-
                                    The path to request on the HTTP server.
                                    Defaults to "/" if not specified.
                                  pattern: ^/.*
                                  type: string
                                port:
                                  description: |-
                                    The port to access on the host.
                                    It may be a numeric string (e.g., "8080") or a named port defined in the container spec.
                                  type: string
                                scheme:
                                  default: HTTP
                                  description: |-
                                    The scheme to use for connecting to the host.
                                    Defaults to "HTTP".
                                  enum:
                                  - HTTP
                                  - HTTPS
                                  type: string
                              required:
                              - port
                              type: object
                            matchingKey:
                              description: |-
                                Used in conjunction with the `targetPodSelector` field to refine the selection of target pod(s) for Action execution.
                                The impact of this field depends on the `targetPodSelector` value:


                                - When `targetPodSelector` is set to `Any` or `All`, this field will be ignored.
                                - When `targetPodSelector` is set to `Role`, only those replicas whose role matches the `matchingKey`
                                  will be selected for the Action.


                                This field cannot be updated.
                              type: string
                            preCondition:
                              description: |-
                                Specifies the state that the cluster must reach before the Action is executed.
                                Currently, this is only applicable to the `postProvision` action.


                                The conditions are as follows:


                                - `Immediately`: Executed right after the Component object is created.
                                  The readiness of the Component and its resources is not guaranteed at this stage.
                                - `RuntimeReady`: The Action is triggered after the Component object has been created and all associated
                                  runtime resources (e.g. Pods) are in a ready state.
                                - `ComponentReady`: The Action is triggered after the Component itself is in a ready state.
                                  This process does not affect the readiness state of the Component or the Cluster.
                                - `ClusterReady`: The Action is executed after the Cluster is in a ready state.
                                  This execution does not alter the Component or the Cluster's state of readiness.


                                This field cannot be updated.
                              type: string
                            retryPolicy:
                              description: |-
                                Defines the strategy to be taken when retrying the Action after a failure.


                                It specifies the conditions under which the Action should be retried and the limits to apply,
                                such as the maximum number of retries and backoff strategy.


                                This field cannot be updated.
                              properties:
                                maxRetries:
                                  default: 0
                                  description: |-
                                    Defines the maximum number of retry attempts that should be made for a given Action.
                                    This value is set to 0 by default, indicating that no retries will be made.
                                  type: integer
                                retryInterval:
                                  default: 0
                                  description: |-
                                    Indicates the duration of time to wait between each retry attempt.
                                    This value is set to 0 by default, indicating that there will be no delay between retry attempts.
                                  format: int64
                                  type: integer
                              type: object
                            targetPodSelector:
                              description: |-
                                Defines the criteria used to select the target Pod(s) for executing the Action.
                                This is useful when there is no default target replica identified.
                                It allows for precise control over which Pod(s) the Action should run in.


                                If not specified, the Action will be executed in the pod where the Action is triggered, such as the pod
                                to be removed or added; or a random pod if the Action is triggered at the component level, such as
                                post-provision or pre-terminate of the component.


                                This field cannot be updated.
                              enum:
                              - Any
                              - All
                              - Role
                              - Ordinal
                              type: string
                            timeoutSeconds:
                              default: 0
                              description: |-
                                Specifies the maximum duration in seconds that the Action is allowed to run.


                                Behavior based on the value:
                                - Positive (> 0): The action will be terminated after this many seconds. The maximum allowed value is 60.
                                - Zero (= 0): The timeout is managed by the system, defaulting to 30 seconds typically.
                                - Negative (< 0): No timeout is applied; the action runs until the command completes.


                                This field cannot be updated.
                              format: int32
                              maximum: 60
                              type: integer
                          type: object
                        restartOnFileChange:
                          description: Specifies whether to restart the pods when
                            the configuration changes.
                          type: boolean
                        template:
                          description: Specifies the name of the referenced template
                            ConfigMap object.
                          maxLength: 63
                          pattern: ^[a-z0-9]([a-z0-9\.\-]*[a-z0-9])?$
                          type: string
                        volumeName:
                          description: |-
                            Refers to the volume name of PodTemplate. The file produced through the template will be mounted to
                            the corresponding volume. Must be a DNS_LABEL name.
                            The volume name must be defined in podSpec.containers[*].volumeMounts.
                          maxLength: 63
                          pattern: ^[a-z]([a-z0-9\-]*[a-z0-9])?$
                          type: string
                      required:
                      - name
                      type: object
                    name:
                      description: |-
                        Defines the unique identifier of the configuration template.


                        It must be a string of maximum 63 characters, and can only include lowercase alphanumeric characters,
                        hyphens, and periods.
                        The name must start and end with an alphanumeric character.
                      maxLength: 63
                      pattern: ^[a-z0-9]([a-z0-9\.\-]*[a-z0-9])?$
                      type: string
                    payload:
                      description: |-
                        External controllers can trigger a configuration rerender by modifying this field.


                        Note: Currently, the `payload` field is opaque and its content is not interpreted by the system.
                        Modifying this field will cause a rerender, regardless of the specific content of this field.
                      type: object
                      x-kubernetes-preserve-unknown-fields: true
                    userConfigTemplates:
                      description: |-
                        Specifies the user-defined configuration template.


                        When provided, the `importTemplateRef` overrides the default configuration template
                        specified in `configSpec.templateRef`.
                        This allows users to customize the configuration template according to their specific requirements.
                      properties:
                        namespace:
                          default: default
                          description: |-
                            Specifies the namespace of the referenced configuration template ConfigMap object.
                            An empty namespace is equivalent to the "default" namespace.
                          pattern: ^[a-z0-9]([a-z0-9\-]*[a-z0-9])?$
                          type: string
                        policy:
                          default: none
                          description: Defines the strategy for merging externally
                            imported templates into component templates.
                          enum:
                          - patch
                          - replace
                          - none
                          type: string
                        templateRef:
                          description: Specifies the name of the referenced configuration
                            template ConfigMap object.
                          pattern: ^[a-z0-9]([a-z0-9\.\-]*[a-z0-9])?$
                          type: string
                      required:
                      - templateRef
                      type: object
                  required:
                  - name
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - name
                x-kubernetes-list-type: map
            required:
            - componentName
            type: object
          status:
            description: ComponentParameterStatus defines the observed state of ComponentConfiguration
            properties:
              conditions:
                description: Provides detailed status information for opsRequest.
                items:
                  description: "Condition contains details for one aspect of the current
                    state of this API Resource.\n---\nThis struct is intended for
                    direct use as an array at the field path .status.conditions.  For
                    example,\n\n\n\ttype FooStatus struct{\n\t    // Represents the
                    observations of a foo's current state.\n\t    // Known .status.conditions.type
                    are: \"Available\", \"Progressing\", and \"Degraded\"\n\t    //
                    +patchMergeKey=type\n\t    // +patchStrategy=merge\n\t    // +listType=map\n\t
                    \   // +listMapKey=type\n\t    Conditions []metav1.Condition `json:\"conditions,omitempty\"
                    patchStrategy:\"merge\" patchMergeKey:\"type\" protobuf:\"bytes,1,rep,name=conditions\"`\n\n\n\t
                    \   // other fields\n\t}"
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: |-
                        type of condition in CamelCase or in foo.example.com/CamelCase.
                        ---
                        Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
                        useful (see .node.status.conditions), the ability to deconflict is important.
                        The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              configurationStatus:
                description: Provides the status of each component undergoing reconfiguration.
                items:
                  properties:
                    lastDoneRevision:
                      description: Represents the last completed revision of the configuration
                        item. This field is optional.
                      type: string
                    message:
                      description: Provides a description of any abnormal status.
                        This field is optional.
                      type: string
                    name:
                      description: |-
                        Specifies the name of the configuration template. It is a required field and must be a string of maximum 63 characters.
                        The name should only contain lowercase alphanumeric characters, hyphens, or periods. It should start and end with an alphanumeric character.
                      maxLength: 63
                      pattern: ^[a-z0-9]([a-z0-9\.\-]*[a-z0-9])?$
                      type: string
                    phase:
                      description: |-
                        Indicates the current status of the configuration item.


                        Possible values include "Creating", "Init", "Running", "Pending", "Merged", "MergeFailed", "FailedAndPause",
                        "Upgrading", "Deleting", "FailedAndRetry", "Finished".
                      enum:
                      - Creating
                      - Init
                      - Running
                      - Pending
                      - Merged
                      - MergeFailed
                      - FailedAndPause
                      - Upgrading
                      - Deleting
                      - FailedAndRetry
                      - Finished
                      type: string
                    reconcileDetail:
                      description: Provides detailed information about the execution
                        of the configuration change. This field is optional.
                      properties:
                        currentRevision:
                          description: Represents the current revision of the configuration
                            item.
                          type: string
                        errMessage:
                          description: Represents the error message generated when
                            the execution of configuration changes fails.
                          type: string
                        execResult:
                          description: Represents the outcome of the most recent execution.
                          type: string
                        expectedCount:
                          default: -1
                          description: Represents the total number of pods that require
                            execution of configuration changes.
                          format: int32
                          type: integer
                        policy:
                          description: Represents the policy applied during the most
                            recent execution.
                          type: string
                        succeedCount:
                          default: -1
                          description: Represents the number of pods where configuration
                            changes were successfully applied.
                          format: int32
                          type: integer
                      type: object
                    updateRevision:
                      description: Represents the updated revision of the configuration
                        item. This field is optional.
                      type: string
                  required:
                  - name
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - name
                x-kubernetes-list-type: map
              message:
                description: Provides a description of any abnormal status.
                type: string
              observedGeneration:
                description: |-
                  Represents the latest generation observed for this
                  ClusterDefinition. It corresponds to the ConfigConstraint's generation, which is
                  updated by the API Server.
                format: int64
                type: integer
              phase:
                description: |-
                  Indicates the current status of the configuration item.


                  Possible values include "Creating", "Init", "Running", "Pending", "Merged", "MergeFailed", "FailedAndPause",
                  "Upgrading", "Deleting", "FailedAndRetry", "Finished".
                enum:
                - Creating
                - Init
                - Running
                - Pending
                - Merged
                - MergeFailed
                - FailedAndPause
                - Upgrading
                - Deleting
                - FailedAndRetry
                - Finished
                type: string
            required:
            - configurationStatus
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
