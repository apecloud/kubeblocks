# Default values for apecloud-mysql.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

image:
  registry: 
  repository: docker.io/apecloud/apecloud-mysql-server
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: 8.0.30-5.alpha2.20230105.gd6b8719.1

## MySQL Cluster parameters
cluster:
  ## CLUSTER_ID
  clusterId: "1"
  ## CLUSTER_START_INDEX
  clusterStartIndex: "1"
  ## @param cluster.replicaSetCount
  replicaSetCount: 3
  ## MYSQL_TEMPLATE_CONFIG
  templateConfig:
  ## MYSQL_CUSTOM_CONFIG
  customConfig:
  ## MYSQL_DYNAMIC_CONFIG
  dynamicConfig:

## MySQL Authentication parameters
auth:
  ## MYSQL_ROOT_HOST
  rootHost: "%"
  ## @param auth.createDatabase Whether to create the .Values.auth.database or not
  ##
  createDatabase: true
  ## @param auth.database Name for a custom database to create
  ## MYSQL_DATABASE
  database: "mydb"
  ## @param auth.username Name for a custom user to create
  ## MYSQL_USER
  username: "u1"
  ## MYSQL_PASSWORD
  password: "u1"
  ## @param auth.replicationUser MySQL replication user
  ##
  replicationUser: "replicator"
  ## @param auth.replicationPassword MySQL replication user password. Ignored if existing secret is provided
  ##
  replicationPassword: ""


configTemplate:
  ## @param config template name
  ## name: mysql-3node-tpl-8.0

  staticParameters:
    - back_log
    - binlog_gtid_simple_recovery
    - character-set-client-handshake
    - disconnect_on_expired_password
    - enforce_gtid_consistency
    - explicit_defaults_for_timestamp
    - ft_max_word_len
    - ft_min_word_len
    - ft_query_expansion_limit
    - ft_stopword_file
    - gtid-mode
    - innodb_adaptive_hash_index_parts
    - innodb_autoinc_lock_mode
    - innodb_buffer_pool_chunk_size
    - innodb_buffer_pool_instances
    - innodb_buffer_pool_load_at_startup
    - innodb_commit_concurrency
    - innodb_dedicated_server
    - innodb_doublewrite_files
    - innodb_doublewrite_pages
    - innodb_flush_method
    - innodb_ft_cache_size
    - innodb_ft_max_token_size
    - innodb_ft_min_token_size
    - innodb_ft_sort_pll_degree
    - innodb_ft_total_cache_size
    - innodb_log_file_size
    - innodb_open_files
    - innodb_page_cleaners
    - innodb_purge_threads
    - innodb_read_io_threads
    - innodb_rollback_on_timeout
    - innodb_sort_buffer_size
    - innodb_stats_include_delete_marked
    - innodb_sync_array_size
    - innodb_use_native_aio
    - innodb_write_io_threads
    - log_bin_use_v1_row_events
    - lower_case_table_names
    - master-info-repository
    - max_digest_length
    - myisam_mmap_size
    - ngram_token_size
    - old-style-user-limits
    - performance_schema
    - performance_schema_accounts_size
    - performance_schema_digests_size
    - performance_schema_error_size
    - performance_schema_events_stages_history_long_size
    - performance_schema_events_stages_history_size
    - performance_schema_events_statements_history_long_size
    - performance_schema_events_statements_history_size
    - performance_schema_events_transactions_history_long_size
    - performance_schema_events_transactions_history_size
    - performance_schema_events_waits_history_long_size
    - performance_schema_events_waits_history_size
    - performance_schema_hosts_size
    - performance_schema_max_cond_classes
    - performance_schema_max_cond_instances
    - performance_schema_max_digest_length
    - performance_schema_max_file_classes
    - performance_schema_max_file_handles
    - performance_schema_max_file_instances
    - performance_schema_max_index_stat
    - performance_schema_max_memory_classes
    - performance_schema_max_metadata_locks
    - performance_schema_max_mutex_classes
    - performance_schema_max_mutex_instances
    - performance_schema_max_prepared_statements_instances
    - performance_schema_max_program_instances
    - performance_schema_max_rwlock_classes
    - performance_schema_max_rwlock_instances
    - performance_schema_max_socket_classes
    - performance_schema_max_socket_instances
    - performance_schema_max_sql_text_length
    - performance_schema_max_stage_classes
    - performance_schema_max_statement_classes
    - performance_schema_max_statement_stack
    - performance_schema_max_table_handles
    - performance_schema_max_table_instances
    - performance_schema_max_table_lock_stat
    - performance_schema_max_thread_classes
    - performance_schema_max_thread_instances
    - performance_schema_session_connect_attrs_size
    - performance_schema_setup_actors_size
    - performance_schema_setup_objects_size
    - performance_schema_users_size
    - rds.optimized_writes
    - relay_log_info_repository
    - safe-user-create
    - skip-character-set-client-handshake
    - skip_name_resolve
    - skip_show_database
    - slave_parallel_type
    - slave_type_conversions
    - ssl_cipher
    - sysdate-is-now
    - table_open_cache_instances
    - temptable_max_mmap
    - thread_stack
    - tls_version
    - validate-password

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""
clusterVersionOverride: ""

logConfigs:
  error: /data/mysql/log/mysqld-error.log
  slow: /data/mysql/log/mysqld-slowquery.log
  general: /data/mysql/log/mysqld.log

roleChangedProbe:
  failureThreshold: 2
  periodSeconds: 1
  timeoutSeconds: 1
