{{- $cc := .Files.Get "config/mysql8-config-effect-scope.yaml" | fromYaml }}
apiVersion: apps.kubeblocks.io/v1alpha1
kind: ConfigConstraint
metadata:
  name: weaviate-config-constraints
  labels:
    {{- include "weaviate.labels" . | nindent 4 }}
spec:
  # top level mysql configuration type
  cfgSchemaTopLevelName: WeaviateEnvs

  # ConfigurationSchema that impose restrictions on engine parameter's rule
  configurationSchema:
    # schema: auto generate from mmmcue scripts
    # example: ../../internal/configuration/testdata/mysql_openapi.json
    cue: |-
      {{- .Files.Get "config/weavaite-config-constraint.cue" | nindent 6 }}

  ## define static parameter list
  staticParameters:
  - ENABLE_MODULES
  - TRANSFORMERS_INFERENCE_API
  - CLIP_INFERENCE_API
  - QNA_INFERENCE_API
  - IMAGE_INFERENCE_API
  - SPELLCHECK_INFERENCE_API
  - NER_INFERENCE_API
  - SUM_INFERENCE_API
  - OPENAI_APIKEY
  - HUGGINGFACE_APIKEY
  - COHERE_APIKEY
  - PALM_APIKEY
  - AWS_ACCESS_KEY_ID
  - AWS_SECRET_ACCESS_KEY
  - GOOGLE_APPLICATION_CREDENTIALS
  - AZURE_STORAGE_ACCOUNT
  - AZURE_STORAGE_KEY
  - AZURE_STORAGE_CONNECTION_STRING

  formatterConfig:
    format: ini